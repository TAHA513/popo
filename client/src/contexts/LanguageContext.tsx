import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';

export interface LanguageOption {
  code: 'en' | 'ar';
  name: string;
  localName: string;
  direction: 'ltr' | 'rtl';
  flag: string;
}

export const languages: LanguageOption[] = [
  {
    code: 'ar',
    name: 'Arabic',
    localName: 'ุงูุนุฑุจูุฉ',
    direction: 'rtl',
    flag: '๐ธ๐ฆ'
  },
  {
    code: 'en',
    name: 'English',
    localName: 'English',
    direction: 'ltr',
    flag: '๐บ๐ธ'
  }
];

interface LanguageContextType {
  currentLanguage: LanguageOption;
  setLanguage: (language: LanguageOption) => void;
  isRTL: boolean;
  t: (key: string) => string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

// Translations
const translations = {
  ar: {
    // Login Page
    'login.welcome': 'ูุฑุญุจุงู ุจุนูุฏุชู',
    'login.username': 'ุงุณู ุงููุณุชุฎุฏู',
    'login.password': 'ูููุฉ ุงููุฑูุฑ',
    'login.button': 'ุชุณุฌูู ุงูุฏุฎูู',
    'login.signing_in': 'ุฌุงุฑู ุชุณุฌูู ุงูุฏุฎูู...',
    'login.forgot_password': 'ูุณูุช ูููุฉ ุงููุฑูุฑุ',
    'login.error': 'ุฎุทุฃ',
    'login.success': 'ุชู ุจูุฌุงุญ',
    
    // Navigation & Pages
    'nav.home': 'ุงูุฑุฆูุณูุฉ',
    'nav.explore': 'ุงูุชุดู',
    'nav.messages': 'ุงูุฑุณุงุฆู',
    'nav.notifications': 'ุงูุฅุดุนุงุฑุงุช',
    'nav.profile': 'ุงูููู ุงูุดุฎุตู',
    'nav.account': 'ุฅุฏุงุฑุฉ ุงูุญุณุงุจ',
    'nav.wallet': 'ุงููุญูุธุฉ',
    'nav.gifts': 'ุงููุฏุงูุง',
    'nav.settings': 'ุงูุฅุนุฏุงุฏุงุช',
    'nav.logout': 'ุชุณุฌูู ุงูุฎุฑูุฌ',
    
    // Home Page
    'home.title': 'ูุฑุญุจุงู ุจู ูู LaaBoBo Live',
    'home.subtitle': 'ููุตุฉ ุงูุจุซ ุงููุจุงุดุฑ ุงูุฃูุซุฑ ุชูุงุนูุงู',
    'home.start_streaming': 'ุจุฏุก ุงูุจุซ',
    'home.explore_content': 'ุงุณุชูุดู ุงููุญุชูู',
    'home.recent_memories': 'ุงูุฐูุฑูุงุช ุงูุญุฏูุซุฉ',
    'home.no_memories': 'ูุง ุชูุฌุฏ ุฐูุฑูุงุช ุญุงููุงู',
    'home.create_memory': 'ุฅูุดุงุก ุฐูุฑู ุฌุฏูุฏุฉ',
    'home.live_streams': 'ุงูุจุซ ุงููุจุงุดุฑ',
    'home.trending': 'ุงูุดุงุฆุน',
    
    // Explore Page
    'explore.title': 'ุงุณุชูุดู',
    'explore.live_streams': 'ุงูุจุซ ุงููุจุงุดุฑ',
    'explore.categories': 'ุงููุฆุงุช',
    'explore.trending': 'ุงูุดุงุฆุน',
    'explore.new': 'ุฌุฏูุฏ',
    'explore.popular': 'ุงูุฃูุซุฑ ุดุนุจูุฉ',
    'explore.no_streams': 'ูุง ุชูุฌุฏ ุจุซูุซ ูุจุงุดุฑุฉ ุญุงููุงู',
    
    // Messages
    'messages.title': 'ุงูุฑุณุงุฆู',
    'messages.conversations': 'ุงููุญุงุฏุซุงุช',
    'messages.requests': 'ุทูุจุงุช ุงูุฑุณุงุฆู',
    'messages.no_conversations': 'ูุง ุชูุฌุฏ ูุญุงุฏุซุงุช',
    'messages.new_message': 'ุฑุณุงูุฉ ุฌุฏูุฏุฉ',
    'messages.type_message': 'ุงูุชุจ ุฑุณุงูุฉ...',
    'messages.send': 'ุฅุฑุณุงู',
    'messages.online': 'ูุชุตู',
    'messages.offline': 'ุบูุฑ ูุชุตู',
    'messages.typing': 'ููุชุจ...',
    
    // Notifications
    'notifications.title': 'ุงูุฅุดุนุงุฑุงุช',
    'notifications.mark_all_read': 'ุชุญุฏูุฏ ุงููู ูููุฑูุก',
    'notifications.no_notifications': 'ูุง ุชูุฌุฏ ุฅุดุนุงุฑุงุช',
    'notifications.new_follower': 'ูุชุงุจุน ุฌุฏูุฏ',
    'notifications.new_gift': 'ูุฏูุฉ ุฌุฏูุฏุฉ',
    'notifications.new_message': 'ุฑุณุงูุฉ ุฌุฏูุฏุฉ',
    'notifications.stream_started': 'ุจุฏุก ุงูุจุซ',
    
    // Profile
    'profile.title': 'ุงูููู ุงูุดุฎุตู',
    'profile.edit_profile': 'ุชุนุฏูู ุงูููู ุงูุดุฎุตู',
    'profile.followers': 'ุงููุชุงุจุนูู',
    'profile.following': 'ูุชุงุจุน',
    'profile.memories': 'ุงูุฐูุฑูุงุช',
    'profile.albums': 'ุงูุฃูุจููุงุช',
    'profile.gifts_received': 'ุงููุฏุงูุง ุงููุณุชููุฉ',
    'profile.follow': 'ูุชุงุจุนุฉ',
    'profile.unfollow': 'ุฅูุบุงุก ุงููุชุงุจุนุฉ',
    'profile.message': 'ุฑุงุณู',
    'profile.send_gift': 'ุฅุฑุณุงู ูุฏูุฉ',
    'profile.first_name': 'ุงูุงุณู ุงูุฃูู',
    'profile.last_name': 'ุงูุงุณู ุงูุฃุฎูุฑ',
    'profile.email': 'ุงูุจุฑูุฏ ุงูุฅููุชุฑููู',
    'profile.account_type': 'ููุน ุงูุญุณุงุจ',
    'profile.save_changes': 'ุญูุธ ุงูุชุบููุฑุงุช',
    'profile.click_camera': 'ุงููุฑ ุนูู ุงููุงููุฑุง ูุชุบููุฑ ุงูุตูุฑุฉ',
    'profile.personal_info': 'ุงููุนูููุงุช ุงูุดุฎุตูุฉ',
    
    // Gifts
    'gifts.title': 'ุงููุฏุงูุง',
    'gifts.send_gift': 'ุฅุฑุณุงู ูุฏูุฉ',
    'gifts.received': 'ุงููุณุชููุฉ',
    'gifts.sent': 'ุงููุฑุณูุฉ',
    'gifts.characters': 'ุงูุดุฎุตูุงุช',
    'gifts.select_character': 'ุงุฎุชุฑ ุดุฎุตูุฉ',
    'gifts.confirm_send': 'ุชุฃููุฏ ุงูุฅุฑุณุงู',
    'gifts.gift_sent': 'ุชู ุฅุฑุณุงู ุงููุฏูุฉ',
    'gifts.insufficient_points': 'ููุงุท ุบูุฑ ูุงููุฉ',
    
    // Settings
    'settings.app_settings': 'ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู',
    'settings.language': 'ุงููุบุฉ',
    'settings.language_desc': 'ุงุฎุชุฑ ูุบุฉ ุงูุชุทุจูู',
    'settings.notifications': 'ุงูุฅุดุนุงุฑุงุช',
    'settings.notifications_desc': 'ุชููู ุฅุดุนุงุฑุงุช ุงููุฏุงูุง ูุงูุฑุณุงุฆู',
    'settings.privacy': 'ุงูุฎุตูุตูุฉ',
    'settings.privacy_desc': 'ุฅุฏุงุฑุฉ ุฅุนุฏุงุฏุงุช ุงูุฎุตูุตูุฉ',
    'settings.enable': 'ุชูุนูู',
    'settings.manage': 'ุฅุฏุงุฑุฉ',
    'settings.theme': 'ุงููุธูุฑ',
    'settings.dark_mode': 'ุงููุถุน ุงููุธูู',
    'settings.light_mode': 'ุงููุถุน ุงููุงุชุญ',
    
    // Wallet
    'wallet.title': 'ุงููุญูุธุฉ',
    'wallet.digital_wallet': 'ุงููุญูุธุฉ ุงูุฑูููุฉ',
    'wallet.current_points': 'ุงูููุงุท ุงูุญุงููุฉ',
    'wallet.total_earnings': 'ุฅุฌูุงูู ุงูุฃุฑุจุงุญ',
    'wallet.gifts_sent': 'ุงููุฏุงูุง ุงููุฑุณูุฉ',
    'wallet.buy_points': 'ุดุฑุงุก ููุงุท',
    'wallet.withdraw': 'ุณุญุจ ุงูุฃุฑุจุงุญ',
    'wallet.transaction_history': 'ุชุงุฑูุฎ ุงููุนุงููุงุช',
    'wallet.points_packages': 'ุจุงูุงุช ุงูููุงุท',
    
    // Streaming
    'stream.start_streaming': 'ุจุฏุก ุงูุจุซ',
    'stream.stop_streaming': 'ุฅููุงู ุงูุจุซ',
    'stream.viewers': 'ุงููุดุงูุฏูู',
    'stream.chat': 'ุงูุฏุฑุฏุดุฉ',
    'stream.settings': 'ุฅุนุฏุงุฏุงุช ุงูุจุซ',
    'stream.camera': 'ุงููุงููุฑุง',
    'stream.microphone': 'ุงููุงููุฑูููู',
    'stream.screen_share': 'ูุดุงุฑูุฉ ุงูุดุงุดุฉ',
    'stream.beauty_filters': 'ููุงุชุฑ ุงูุฌูุงู',
    
    // Security
    'security.title': 'ุงูุฃูุงู ูุงูุญูุงูุฉ',
    'security.current_password': 'ูููุฉ ุงููุฑูุฑ ุงูุญุงููุฉ',
    'security.new_password': 'ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ',
    'security.confirm_password': 'ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ',
    'security.update_password': 'ุชุญุฏูุซ ูููุฉ ุงููุฑูุฑ',
    'security.two_factor': 'ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ',
    'security.login_history': 'ุชุงุฑูุฎ ุชุณุฌูู ุงูุฏุฎูู',
    
    // Common
    'common.save': 'ุญูุธ',
    'common.cancel': 'ุฅูุบุงุก',
    'common.delete': 'ุญุฐู',
    'common.edit': 'ุชุนุฏูู',
    'common.create': 'ุฅูุดุงุก',
    'common.update': 'ุชุญุฏูุซ',
    'common.loading': 'ุฌุงุฑู ุงูุชุญููู...',
    'common.error': 'ุฎุทุฃ',
    'common.success': 'ูุฌุญ',
    'common.confirm': 'ุชุฃููุฏ',
    'common.yes': 'ูุนู',
    'common.no': 'ูุง',
    'common.search': 'ุจุญุซ',
    'common.filter': 'ููุชุฑ',
    'common.sort': 'ุชุฑุชูุจ',
    'common.view_all': 'ุนุฑุถ ุงููู',
    'common.show_more': 'ุนุฑุถ ุงููุฒูุฏ',
    'common.show_less': 'ุนุฑุถ ุฃูู',
    
    // Account Types
    'account.user': 'ูุณุชุฎุฏู',
    'account.admin': 'ูุฏูุฑ',
    'account.super_admin': 'ูุฏูุฑ ุนุงู',
    'account.verified': 'ููุซู',
    
    // Profile Tabs
    'profile.tabs.memories': 'ุงูุฐูุฑูุงุช',
    'profile.tabs.followers': 'ุงููุชุงุจุนูู',
    'profile.tabs.following': 'ูุชุงุจุน',
    'profile.tabs.albums': 'ุงูุฃูุจููุงุช',
    'profile.back': 'ุงูุนูุฏุฉ',
    
    // Gift Rarities
    'gifts.rarity.common': 'ุนุงุฏู',
    'gifts.rarity.rare': 'ูุงุฏุฑ',
    'gifts.rarity.epic': 'ุฃุณุทูุฑู',
    'gifts.rarity.legendary': 'ุฎุฑุงูู',
    
    // Memory Types
    'memory.flash': 'ุจุฑู',
    'memory.trending': 'ุชุฑูุฏ',
    'memory.star': 'ูุฌูุฉ',
    'memory.legend': 'ุฃุณุทูุฑุฉ',
    'memory.permanent': 'ุฏุงุฆู',
    'memory.create': 'ุฅูุดุงุก ุฐูุฑู',
    'memory.upload': 'ุฑูุน',
    'memory.camera': 'ูุงููุฑุง',
    'memory.gallery': 'ุงููุนุฑุถ',
    'memory.no_content': 'ูุง ููุฌุฏ ูุญุชูู',
    'memory.expired': 'ุงูุชูุช ุตูุงุญูุชูุง',
    
    // Chat & Communication
    'chat.online': 'ูุชุตู',
    'chat.offline': 'ุบูุฑ ูุชุตู',
    'chat.typing': 'ููุชุจ...',
    'chat.send_message': 'ุฅุฑุณุงู ุฑุณุงูุฉ',
    'chat.message_sent': 'ุชู ุฅุฑุณุงู ุงูุฑุณุงูุฉ',
    'chat.no_messages': 'ูุง ุชูุฌุฏ ุฑุณุงุฆู',
    'chat.start_conversation': 'ุจุฏุก ูุญุงุฏุซุฉ',
    'chat.private_room': 'ุบุฑูุฉ ุฎุงุตุฉ',
    'chat.group_room': 'ุบุฑูุฉ ุฌูุงุนูุฉ',
    
    // Buttons & Actions
    'buttons.follow': 'ูุชุงุจุนุฉ',
    'buttons.unfollow': 'ุฅูุบุงุก ุงููุชุงุจุนุฉ',
    'buttons.message': 'ุฑุงุณู',
    'buttons.call': 'ุงุชุตู',
    'buttons.video_call': 'ููุงููุฉ ููุฏูู',
    'buttons.share': 'ูุดุงุฑูุฉ',
    'buttons.like': 'ุฅุนุฌุงุจ',
    'buttons.comment': 'ุชุนููู',
    'buttons.report': 'ุฅุจูุงุบ',
    'buttons.block': 'ุญุธุฑ',
    'buttons.add_friend': 'ุฅุถุงูุฉ ุตุฏูู',
    'buttons.remove_friend': 'ุฅุฒุงูุฉ ุตุฏูู',
    
    // Status & States
    'status.online': 'ูุชุตู',
    'status.offline': 'ุบูุฑ ูุชุตู',
    'status.away': 'ุบุงุฆุจ',
    'status.busy': 'ูุดุบูู',
    'status.invisible': 'ุบูุฑ ูุฑุฆู',
    'status.last_seen': 'ุขุฎุฑ ุธููุฑ',
    'status.active_now': 'ูุดุท ุงูุขู',
    
    // Time & Dates
    'time.now': 'ุงูุขู',
    'time.minute_ago': 'ููุฐ ุฏูููุฉ',
    'time.minutes_ago': 'ููุฐ ุฏูุงุฆู',
    'time.hour_ago': 'ููุฐ ุณุงุนุฉ',
    'time.hours_ago': 'ููุฐ ุณุงุนุงุช',
    'time.day_ago': 'ููุฐ ููู',
    'time.days_ago': 'ููุฐ ุฃูุงู',
    'time.week_ago': 'ููุฐ ุฃุณุจูุน',
    'time.weeks_ago': 'ููุฐ ุฃุณุงุจูุน',
    'time.month_ago': 'ููุฐ ุดูุฑ',
    'time.months_ago': 'ููุฐ ุดููุฑ',
    
    // Error Messages
    'error.network': 'ุฎุทุฃ ูู ุงูุดุจูุฉ',
    'error.server': 'ุฎุทุฃ ูู ุงูุฎุงุฏู',
    'error.not_found': 'ุบูุฑ ููุฌูุฏ',
    'error.unauthorized': 'ุบูุฑ ูุฎูู',
    'error.forbidden': 'ููููุน',
    'error.invalid_data': 'ุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ',
    'error.file_too_large': 'ุงูููู ูุจูุฑ ุฌุฏุงู',
    'error.unsupported_format': 'ุชูุณูู ุบูุฑ ูุฏุนูู',
    
    // Success Messages
    'success.saved': 'ุชู ุงูุญูุธ',
    'success.updated': 'ุชู ุงูุชุญุฏูุซ',
    'success.deleted': 'ุชู ุงูุญุฐู',
    'success.uploaded': 'ุชู ุงูุฑูุน',
    'success.sent': 'ุชู ุงูุฅุฑุณุงู',
    'success.received': 'ุชู ุงูุงุณุชูุงู',
    
    // Loading States
    'loading.please_wait': 'ูุฑุฌู ุงูุงูุชุธุงุฑ...',
    'loading.uploading': 'ุฌุงุฑู ุงูุฑูุน...',
    'loading.downloading': 'ุฌุงุฑู ุงูุชุญููู...',
    'loading.processing': 'ุฌุงุฑู ุงููุนุงูุฌุฉ...',
    'loading.connecting': 'ุฌุงุฑู ุงูุงุชุตุงู...',
    
    // Gift Actions (Additional)
    'gifts.no_gifts': 'ูุง ุชูุฌุฏ ูุฏุงูุง ูุชุงุญุฉ ุญุงููุงู',
    'gifts.try_later': 'ูุฑุฌู ุงููุญุงููุฉ ูุงุญูุงู',
    'gifts.loading': 'ุฌุงุฑู ุชุญููู ุงููุฏุงูุง...',
    'gifts.error_loading': 'ุฎุทุฃ ูู ุชุญููู ุงููุฏุงูุง',
    'gifts.retry': 'ุฅุนุงุฏุฉ ุงููุญุงููุฉ',
  },
  en: {
    // Login Page
    'login.welcome': 'Welcome back',
    'login.username': 'Username',
    'login.password': 'Password',
    'login.button': 'Sign In',
    'login.signing_in': 'Signing in...',
    'login.forgot_password': 'Forgot password?',
    'login.error': 'Error',
    'login.success': 'Success',
    
    // Navigation & Pages
    'nav.home': 'Home',
    'nav.explore': 'Explore',
    'nav.messages': 'Messages',
    'nav.notifications': 'Notifications',
    'nav.profile': 'Profile',
    'nav.account': 'Account Management',
    'nav.wallet': 'Wallet',
    'nav.gifts': 'Gifts',
    'nav.settings': 'Settings',
    'nav.logout': 'Logout',
    
    // Home Page
    'home.title': 'Welcome to LaaBoBo Live',
    'home.subtitle': 'The Most Interactive Live Streaming Platform',
    'home.start_streaming': 'Start Streaming',
    'home.explore_content': 'Explore Content',
    'home.recent_memories': 'Recent Memories',
    'home.no_memories': 'No memories yet',
    'home.create_memory': 'Create New Memory',
    'home.live_streams': 'Live Streams',
    'home.trending': 'Trending',
    
    // Explore Page
    'explore.title': 'Explore',
    'explore.live_streams': 'Live Streams',
    'explore.categories': 'Categories',
    'explore.trending': 'Trending',
    'explore.new': 'New',
    'explore.popular': 'Popular',
    'explore.no_streams': 'No live streams currently',
    
    // Messages
    'messages.title': 'Messages',
    'messages.conversations': 'Conversations',
    'messages.requests': 'Message Requests',
    'messages.no_conversations': 'No conversations yet',
    'messages.new_message': 'New Message',
    'messages.type_message': 'Type a message...',
    'messages.send': 'Send',
    'messages.online': 'Online',
    'messages.offline': 'Offline',
    'messages.typing': 'Typing...',
    
    // Notifications
    'notifications.title': 'Notifications',
    'notifications.mark_all_read': 'Mark All as Read',
    'notifications.no_notifications': 'No notifications',
    'notifications.new_follower': 'New Follower',
    'notifications.new_gift': 'New Gift',
    'notifications.new_message': 'New Message',
    'notifications.stream_started': 'Stream Started',
    
    // Profile
    'profile.title': 'Profile',
    'profile.edit_profile': 'Edit Profile',
    'profile.followers': 'Followers',
    'profile.following': 'Following',
    'profile.memories': 'Memories',
    'profile.albums': 'Albums',
    'profile.gifts_received': 'Gifts Received',
    'profile.follow': 'Follow',
    'profile.unfollow': 'Unfollow',
    'profile.message': 'Message',
    'profile.send_gift': 'Send Gift',
    'profile.first_name': 'First Name',
    'profile.last_name': 'Last Name',
    'profile.email': 'Email',
    'profile.account_type': 'Account Type',
    'profile.save_changes': 'Save Changes',
    'profile.click_camera': 'Click camera to change picture',
    'profile.personal_info': 'Personal Information',
    
    // Gifts
    'gifts.title': 'Gifts',
    'gifts.send_gift': 'Send Gift',
    'gifts.received': 'Received',
    'gifts.sent': 'Sent',
    'gifts.characters': 'Characters',
    'gifts.select_character': 'Select Character',
    'gifts.confirm_send': 'Confirm Send',
    'gifts.gift_sent': 'Gift Sent',
    'gifts.insufficient_points': 'Insufficient Points',
    
    // Settings
    'settings.app_settings': 'App Settings',
    'settings.language': 'Language',
    'settings.language_desc': 'Choose your app language',
    'settings.notifications': 'Notifications',
    'settings.notifications_desc': 'Receive gift and message notifications',
    'settings.privacy': 'Privacy',
    'settings.privacy_desc': 'Manage privacy settings',
    'settings.enable': 'Enable',
    'settings.manage': 'Manage',
    'settings.theme': 'Theme',
    'settings.dark_mode': 'Dark Mode',
    'settings.light_mode': 'Light Mode',
    
    // Wallet
    'wallet.title': 'Wallet',
    'wallet.digital_wallet': 'Digital Wallet',
    'wallet.current_points': 'Current Points',
    'wallet.total_earnings': 'Total Earnings',
    'wallet.gifts_sent': 'Gifts Sent',
    'wallet.buy_points': 'Buy Points',
    'wallet.withdraw': 'Withdraw Earnings',
    'wallet.transaction_history': 'Transaction History',
    'wallet.points_packages': 'Points Packages',
    
    // Streaming
    'stream.start_streaming': 'Start Streaming',
    'stream.stop_streaming': 'Stop Streaming',
    'stream.viewers': 'Viewers',
    'stream.chat': 'Chat',
    'stream.settings': 'Stream Settings',
    'stream.camera': 'Camera',
    'stream.microphone': 'Microphone',
    'stream.screen_share': 'Screen Share',
    'stream.beauty_filters': 'Beauty Filters',
    
    // Security
    'security.title': 'Security & Protection',
    'security.current_password': 'Current Password',
    'security.new_password': 'New Password',
    'security.confirm_password': 'Confirm Password',
    'security.update_password': 'Update Password',
    'security.two_factor': 'Two-Factor Authentication',
    'security.login_history': 'Login History',
    
    // Common
    'common.save': 'Save',
    'common.cancel': 'Cancel',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.create': 'Create',
    'common.update': 'Update',
    'common.loading': 'Loading...',
    'common.error': 'Error',
    'common.success': 'Success',
    'common.confirm': 'Confirm',
    'common.yes': 'Yes',
    'common.no': 'No',
    'common.search': 'Search',
    'common.filter': 'Filter',
    'common.sort': 'Sort',
    'common.view_all': 'View All',
    'common.show_more': 'Show More',
    'common.show_less': 'Show Less',
    
    // Account Types
    'account.user': 'User',
    'account.admin': 'Admin',
    'account.super_admin': 'Super Admin',
    'account.verified': 'Verified',
    
    // Profile Tabs
    'profile.tabs.memories': 'Memories',
    'profile.tabs.followers': 'Followers',
    'profile.tabs.following': 'Following',
    'profile.tabs.albums': 'Albums',
    'profile.back': 'Back',
    
    // Gift Rarities
    'gifts.rarity.common': 'Common',
    'gifts.rarity.rare': 'Rare',
    'gifts.rarity.epic': 'Epic',
    'gifts.rarity.legendary': 'Legendary',
    
    // Memory Types
    'memory.flash': 'Flash',
    'memory.trending': 'Trending',
    'memory.star': 'Star',
    'memory.legend': 'Legend',
    'memory.permanent': 'Permanent',
    'memory.create': 'Create Memory',
    'memory.upload': 'Upload',
    'memory.camera': 'Camera',
    'memory.gallery': 'Gallery',
    'memory.no_content': 'No Content',
    'memory.expired': 'Expired',
    
    // Chat & Communication
    'chat.online': 'Online',
    'chat.offline': 'Offline',
    'chat.typing': 'Typing...',
    'chat.send_message': 'Send Message',
    'chat.message_sent': 'Message Sent',
    'chat.no_messages': 'No Messages',
    'chat.start_conversation': 'Start Conversation',
    'chat.private_room': 'Private Room',
    'chat.group_room': 'Group Room',
    
    // Buttons & Actions
    'buttons.follow': 'Follow',
    'buttons.unfollow': 'Unfollow',
    'buttons.message': 'Message',
    'buttons.call': 'Call',
    'buttons.video_call': 'Video Call',
    'buttons.share': 'Share',
    'buttons.like': 'Like',
    'buttons.comment': 'Comment',
    'buttons.report': 'Report',
    'buttons.block': 'Block',
    'buttons.add_friend': 'Add Friend',
    'buttons.remove_friend': 'Remove Friend',
    
    // Status & States
    'status.online': 'Online',
    'status.offline': 'Offline',
    'status.away': 'Away',
    'status.busy': 'Busy',
    'status.invisible': 'Invisible',
    'status.last_seen': 'Last Seen',
    'status.active_now': 'Active Now',
    
    // Time & Dates
    'time.now': 'Now',
    'time.minute_ago': '1 minute ago',
    'time.minutes_ago': 'minutes ago',
    'time.hour_ago': '1 hour ago',
    'time.hours_ago': 'hours ago',
    'time.day_ago': '1 day ago',
    'time.days_ago': 'days ago',
    'time.week_ago': '1 week ago',
    'time.weeks_ago': 'weeks ago',
    'time.month_ago': '1 month ago',
    'time.months_ago': 'months ago',
    
    // Error Messages
    'error.network': 'Network Error',
    'error.server': 'Server Error',
    'error.not_found': 'Not Found',
    'error.unauthorized': 'Unauthorized',
    'error.forbidden': 'Forbidden',
    'error.invalid_data': 'Invalid Data',
    'error.file_too_large': 'File Too Large',
    'error.unsupported_format': 'Unsupported Format',
    
    // Success Messages
    'success.saved': 'Saved',
    'success.updated': 'Updated',
    'success.deleted': 'Deleted',
    'success.uploaded': 'Uploaded',
    'success.sent': 'Sent',
    'success.received': 'Received',
    
    // Loading States
    'loading.please_wait': 'Please wait...',
    'loading.uploading': 'Uploading...',
    'loading.downloading': 'Downloading...',
    'loading.processing': 'Processing...',
    'loading.connecting': 'Connecting...',
    
    // Gift Actions (Additional)
    'gifts.no_gifts': 'No gifts available right now',
    'gifts.try_later': 'Please try again later',
    'gifts.loading': 'Loading gifts...',
    'gifts.error_loading': 'Error loading gifts',
    'gifts.retry': 'Try Again',
  }
};

interface LanguageProviderProps {
  children: ReactNode;
}

export function LanguageProvider({ children }: LanguageProviderProps) {
  const [currentLanguage, setCurrentLanguage] = useState<LanguageOption>(() => {
    // Get saved language from localStorage or default to Arabic
    const savedLanguage = localStorage.getItem('language');
    if (savedLanguage) {
      return languages.find(lang => lang.code === savedLanguage) || languages[0];
    }
    return languages[0]; // Default to Arabic
  });

  const setLanguage = (language: LanguageOption) => {
    setCurrentLanguage(language);
    localStorage.setItem('language', language.code);
    
    // Update document direction
    document.documentElement.dir = language.direction;
    document.documentElement.lang = language.code;
  };

  const t = (key: string): string => {
    return (translations[currentLanguage.code] as any)[key] || key;
  };

  // Set initial direction on mount
  useEffect(() => {
    document.documentElement.dir = currentLanguage.direction;
    document.documentElement.lang = currentLanguage.code;
  }, [currentLanguage]);

  const value: LanguageContextType = {
    currentLanguage,
    setLanguage,
    isRTL: currentLanguage.direction === 'rtl',
    t,
  };

  return (
    <LanguageContext.Provider value={value}>
      {children}
    </LanguageContext.Provider>
  );
}

export function useLanguage() {
  const context = useContext(LanguageContext);
  if (context === undefined) {
    // Provide fallback values if context is not available
    return {
      currentLanguage: languages[0], // Default to Arabic
      setLanguage: () => {},
      isRTL: true,
      t: (key: string) => key, // Return key as fallback
    };
  }
  return context;
}