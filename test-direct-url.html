<!DOCTYPE html>
<html>
<head>
    <title>Direct URL Test</title>
</head>
<body>
    <h1>ุงุฎุชุจุงุฑ ูุจุงุดุฑ ููุตูุฑ</h1>
    
    <!-- ุตูุฑุฉ ูุจุงุดุฑุฉ -->
    <h2>ุตูุฑุฉ ูุจุงุดุฑุฉ</h2>
    <img src="/api/media/memory-4OsJBdkrkj8RyijMOG6OR-asaad111-1754848321807-0-post.png" alt="Direct" width="200">
    
    <!-- ุฌูุจ ุงูุจูุงูุงุช ูู API -->
    <h2>ุจูุงูุงุช ูู API</h2>
    <div id="api-data"></div>
    <div id="images-container"></div>
    
    <script>
        // ุฌูุจ ุงูุจูุงูุงุช ูู API
        fetch('/api/memories/public')
            .then(r => r.json())
            .then(data => {
                console.log('๐ฆ API Response:', data);
                
                // ุนุฑุถ ุงูุจูุงูุงุช
                const apiDiv = document.getElementById('api-data');
                apiDiv.innerHTML = '<pre>' + JSON.stringify(data[0], null, 2) + '</pre>';
                
                // ุนุฑุถ ุงูุตูุฑ
                const container = document.getElementById('images-container');
                const memory = data[0];
                
                if (memory && memory.mediaUrls) {
                    memory.mediaUrls.forEach((url, i) => {
                        console.log('๐ผ๏ธ Media URL from DB:', url);
                        
                        const mediaPath = `/api/media/${url}`;
                        console.log('๐ Generated path:', mediaPath);
                        
                        const img = document.createElement('img');
                        img.src = mediaPath;
                        img.alt = `Memory ${i}`;
                        img.width = 150;
                        img.style.margin = '5px';
                        
                        img.onload = () => console.log('โ Image loaded:', mediaPath);
                        img.onerror = () => console.error('โ Image failed:', mediaPath);
                        
                        container.appendChild(img);
                    });
                }
            })
            .catch(e => console.error('โ API Error:', e));
    </script>
</body>
</html>